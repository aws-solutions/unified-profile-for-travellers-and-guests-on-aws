<div id="loader" class="loader" *ngIf="isLoading()">
    <span class="loader-content">
        <fa-icon [icon]="faSpinner"></fa-icon>
        <span class="loader-text">Loading...</span>
    </span>
</div>

<div class="container-fluid" *ngIf="this.router.url != '/login'">
    <div class="navbar navbar-expand-sg navbar-light navbar-fixed-top">
        <div class="beginning">
            <div class="dropdown">
                <button class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent"
                    aria-expanded="false" aria-label="Toggle navigation" (click)="togglePageMenu()">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="dropdown-menu navbar-dropdown" aria-labelledby="dropdownMenuButton" [ngStyle]="{'display' : getPageMenuStyle()}">
                    <span class="cursor-pointer dropdown-item" (click)="goToHome()" [routerLink]="['/home']">
                        <fa-icon [icon]="faHome"></fa-icon>
                        Home
                    </span>
                    <span class="cursor-pointer dropdown-item" (click)="goToSettings()" [routerLink]="['/settings']">
                        <fa-icon [icon]="faCog"></fa-icon>
                        Settings
                    </span>
                </div>
            </div>
            <div class="page" *ngIf="this.router.url == '/home'"><fa-icon [icon]="faHome"></fa-icon>Home</div>
            <div class="page" *ngIf="this.router.url == '/setting'"><fa-icon [icon]="faCog"></fa-icon>Settings</div>
        </div>

        <div class="middle">
            <img class="aws-logo" src="assets/1200px-Amazon_Web_Services_Logo.svg.png" />
            <span class="header-title">Unified Customer Profile for Travellers and Guests </span>
        </div>
        

        <div class="end justify-content-end">
            <div class="dropdown">
                <button class="navbar-toggler domain" type="button" data-toggle="collapse"
                    data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent"
                    aria-expanded="false" aria-label="Toggle navigation" (click)="toggleNavbar()">
                    <fa-icon [icon]="faSqaureCaretDown"></fa-icon>{{selectedDomain}}
                </button>
                <div class="dropdown-menu navbar-dropdown" aria-labelledby="dropdownMenuButton"
                        [ngStyle]="{'display' : getDisplayStyle()}">
                    <div *ngFor="let domain of domains">
                        <span id="domain-component-name-{{domain.customerProfileDomain}}"
                                class="cursor-pointer dropdown-item"
                                (click)="selectDomain(domain.customerProfileDomain)"
                                [ngStyle]="{'background-color': selectedDomain === domain.customerProfileDomain ? 'lightgreen' : 'white'}">
                                <b>{{domain.customerProfileDomain}}</b><br />
                                <span class="domain-details">Last
                                    Updated on {{domain.lastUpdated | date}}</span><br />
                        </span>
                    </div>
                    <span class = "cursor-pointer dropdown-item" (click)="createDomain()">Create New Domain</span>
                </div>
            </div>
            <div class="btn btn-primary" (click)="logout()">
                Log Out
            </div>
        </div>
    </div>
</div>




<router-outlet></router-outlet>

<form [formGroup]="itemForm">
</form>